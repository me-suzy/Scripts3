<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1" />

<title>vBadvanced Readme File</title>
<style type="text/css">
body
{
	background: #E1E1E2;
	color: #000000;
	font: 10pt verdana, geneva, lucida, 'lucida grande', arial, helvetica, sans-serif;
	margin: 5px 5px 10px 5px;
}
a:link
{
	color: #22229C;
}
a:visited
{
	color: #22229C;
}
a:hover, a:active
{
	color: #FF4400;
}
.page
{
	background: #FFFFFF;
	color: #000000;
}
.tborder
{
	background: #D1D1E1;
	color: #000000;
	border: 1px solid #0B198C;
}
.tcat
{
	background: #869BBF url(http://vbadvanced.com/forum/images/gradients/gradient_tcat.gif) repeat-x top left;
	color: #FFFFFF;
	font: bold 10pt verdana, geneva, lucida, 'lucida grande', arial, helvetica, sans-serif;
}
.tcat a:link
{
	color: #ffffff;
	text-decoration: none;
}
.tcat a:visited
{
	color: #ffffff;
	text-decoration: none;
}
.tcat a:hover, .tcat a:active
{
	color: #FFFF66;
	text-decoration: underline;
}
.thead
{
	background: #5C7099 url(http://vbadvanced.com/forum/images/gradients/gradient_thead.gif) repeat-x top left;
	color: #FFFFFF;
	font: bold 11px tahoma, verdana, geneva, lucida, 'lucida grande', arial, helvetica, sans-serif;
}
.thead a:link
{
	color: #FFFFFF;
}
.thead a:visited
{
	color: #FFFFFF;
}
.thead a:hover, .thead a:active
{
	color: #FFFF00;
}
.alt1, .alt1Active
{
	background: #F5F5FF;
	color: #000000;
}
.alt2, .alt2Active
{
	background: #E1E4F2;
	color: #000000;
}
.smallfont
{
	font: 11px verdana, geneva, lucida, 'lucida grande', arial, helvetica, sans-serif;
}
.vbmenu_control
{
	background: #738FBF;
	color: #FFFFFF;
	font: bold 11px tahoma, verdana, geneva, lucida, 'lucida grande', arial, helvetica, sans-serif;
	padding: 3px 6px 3px 6px;
	white-space: nowrap;
}
.vbmenu_control a:link
{
	color: #FFFFFF;
	text-decoration: none;
}
.vbmenu_control a:visited
{
	color: #FFFFFF;
	text-decoration: none;
}
.vbmenu_control a:hover, .vbmenu_control a:active
{
	color: #FFFFFF;
	text-decoration: underline;
}
legend
{
	color: #22229C;
	font: 11px tahoma, verdana, geneva, lucida, 'lucida grande', arial, helvetica, sans-serif;
}
</style>

</head>
<body>

<!-- logo -->
<a name="top"></a>
<table align="center" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left"><a href="http://vbadvanced.com" target="_blank"><img alt="vBadvanced Forums" border="0" src="http://vbadvanced.com/forum/images/misc/vbulletin3_logo_white.gif" /></a></td>
<td align="right">&nbsp;</td>
</tr>
</table>

<div align="center">
<div class="page" style="text-align:left">
<div style="padding:0px 25px 0px 25px">

<br />

<table class="tborder" cellpadding="6" cellspacing="0" border="0" width="100%" align="center">
<tr align="center">	

<td class="vbmenu_control"><a href="readme_vba_cmps.html#installation">Installation</a></td>
<td class="vbmenu_control"><a href="readme_vba_cmps.html#upgrade">Upgrading</a></td>
<td class="vbmenu_control"><a href="readme_vba_cmps.html#faq">F.A.Q.</a></td>
<td class="vbmenu_control"><a href="readme_vba_cmps.html#help">Help &amp; Support</a></td>

</tr>
</table>

<br />
<br />


<table class="tborder" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="tcat"><b>vBadvanced CMPS (Content Management &amp; Portal System)</b></td></tr>


<tr><td class="thead"><b>Introduction</b></td></tr>

<tr><td class="alt1">vBadvanced CMPS (Content Management & Portal System) is an advanced portal / content management system that will allow you to easily include different options from your vBulletin message board on your site's homepage. It also allows you to easily create and manage new pages in which you can set different settings other than the default. It's module system also makes it very easy to add custom modules without hacking any of the files, plus it is very easy to integrate with other vBulletin pages and hacks. Everything is also template based and completely integrated with vBulletin, so it is very easy to customize and change everything through your Admin CP.
</td>
</tr>
<tr>
<td class="thead"><b>Features:</b></td>
</tr>
<tr>
<td class="alt2"><ul>
<li>Easily create and manage your site's content and new pages through your vBulletin Admin CP.</li>
<li>Easily add new modules without hacking any vBulletin or vBadvanced files.</li>
<li>Ability to set a different value for each module's settings on a per-page basis.</li>
<li>Easily enable/disable modules on a per-page basis.</li>
<li>Set and change all options via the Admin CP. </li>
<li>Everything is completely template based so it is very easy to customize. </li>
<li>Install file that will make all database queries and templates for you in seconds. </li>
<li>Uninstalls in seconds. </li>
<li>Tested and stable with vBulletin 3.01, 3.00, RC1, RC2, RC3. </li>
<li>100% validated XHTML 1.0 compliance</li>
<li>And <b>Much</b> more!</li>
</ul>
<br />
<b>Included Modules:</b>
<ul>
<div style="margin-bottom:5px"><li><b>Welcome Block</b> - Creates a login box for members to log into your site on the homepage, or shows logged in users their avatar, last visit, and new PMs (all of which may be enabled/disabled).</li></div>
<div style="margin-bottom:5px"><li><b>News</b> - Post News in a forum you specify and have it appear on your page. Additional options to show attachments, icons, images, HTML, and more in your news posts. </li></div>
<div style="margin-bottom:5px"><li><b>News Archive</b> - A condensed version of older news posts. Includes options to control the number of archived posts to show.</li></div>
<div style="margin-bottom:5px"><li><b>Latest Topics</b> - Show the latest threads started in your forum. Additional options to set the number of threads to display, show a preview of the first post, icons, and last post info.</li></div>
<div style="margin-bottom:5px"><li><b>Currnt Poll</b> - Show a poll and allow users to vote and see the results on your homepage. </li></div>
<div style="margin-bottom:5px"><li><b>Buddy List</b> - Show the user's buddy list for members who are logged in.</li></div>
<div style="margin-bottom:5px"><li><b>Online Users</b> - Shows a list of active users, including the stats for your 'most users ever online'.</li></div>
<div style="margin-bottom:5px"><li><b>Stats</b> - Shows statistics such as total members, threads, posts, top poster, newest member, and today's birthday's.</li></div>
<div style="margin-bottom:5px"><li><b>Mini Calendar</b> - Shows a mini calendar with links to days with scheduled events.</li></div>
<div style="margin-bottom:5px"><li><b>Search</b> - Search box to allow users to quickly search your forums. </li></div>
<div style="margin-bottom:5px"><li><b>Quick Moderation</b> - Shows the number of posts, threads, users, attachments, and calendar events awaiting moderation for users that have permission to moderate these items.</li></div>
<li><b>Custom Page Content</b> - Allows you to easily specify a template to include the content from on a page.
</ul>

<br />
More modules available in the <a href="http://www.vbadvanced.com/forum/forumdisplay.php?f=26">Addon Modules, Hacks, & Modifications</a> forum at <a href="http://vbadvanced.com/">vbadvanced.com</a>.</td>
</tr>

<tr>
<td class="thead">Help &amp; Support</td>
</tr>
<tr>
<td class="alt1">Before asking for support, Please read the F.A.Q below! If you have any problems or questions that are not covered in the F.A.Q. please post them at <a href="http://vbadvanced.com" target="_blank">vBadvanced.com</a>, or on vbulletin.org in the vBadvanced CMPS thread. I will be more than happy to help in any way I can if the request for help is made there. Anyone trying to contact me via email, private message, or any other means <b>will be ignored</b>.
</td>
</tr>
<tr>
<td class="thead">Copyright</td>
</tr>
<tr>
<td class="alt2">This script is &copy; 2003 - 2004 vBadvanced.com and PlurPlanet, LLC.<br />This script is NOT to be re-distributed in any way or placed on a website for download without permission.<br /><b>All copyright notes in the script itself must remain unchanged.</b><br /> 


</td></tr></table><br /><br />


<a name="installation">
<table class="tborder" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="tcat"><b>Installation Instructions</b></td></tr>

<tr><td class="thead"><b>Step 1 - Admin CP Modifications</b></td></tr>
	
<tr><td class="alt1">Go to your Style Manager under "Styles & Templates" in your Admin CP. Choose to modify All Style Options. On this page, you will see a section for "Image Paths". Here you must change the path for each image directory (Title Image, Button Images Folder, Miscellaneous Images Folder, etc) to the full path (ex - /forum/images or http://yoursite.com/forum/images). <br /><br /><b><i>You must do this for each of your styles, otherwise your images will not show up!</i></b>
</font></td></tr>


<tr><td class="thead"><b>Step 2 - Template Modifications</b></td></tr>

<tr><td class="alt2">You should still be in your Admin CP at this point. Go to your Style Manager again under the "Styles & Templates" section of your Admin CP. Click on the &quot;» «&quot; button to expand the templates for that style. Once the templates are expanded, you will see a group called "Calendar Templates". Open the <a href="templates.txt" target="_blank">templates.txt</a> file which was included in the zip file. Make the changes to each template that is listed there. Simply copy the content listed under each template name and replace the current content with that for each template.</td></tr>

<tr><td class="thead"><b>Step 3 - File Modifications</b></td></tr>



<tr><td class="alt1"><b>In your /forum/global.php file: </b>(3 Changes)
<br /><br />

<fieldset><legend><b>Find:</b></legend>
<div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:35px; overflow:auto"><pre>require_once('./includes/init.php');</pre></div>
</fieldset><br />

<fieldset><legend><b>Above that Add:</b></legend>
<div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:235px; overflow:auto"><pre>if (defined('VBA_PORTAL'))
{
	$phrasegroups = array_merge($phrasegroups, 
		array(
			'calendar', 
			'adv_portal',
			'postbit'
		)
	);

	$specialtemplates = array_merge($specialtemplates, 
		array(
			'adv_modules',
			'adv_portal_opts',
			'attachmentcache',
			'bbcodecache',
			'birthdaycache',
			'eventcache',
			'iconcache',
			'maxloggedin',
			'smiliecache',
			'userstats'
		)
	);
	
	$globaltemplates = array_merge($globaltemplates,
		array(
			'adv_portal',
			'adv_portal_footer'
		)
	);
}
</pre></div></fieldset>
<br />
<br />

<fieldset><legend><b>Find:</b></legend><div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:70px; overflow:auto"><pre>
// #############################################################################
// ######################## START TEMPLATES & STYLES ###########################
// #############################################################################
</pre></div></fieldset><br />

<fieldset><legend><b>Above that Add:</b></legend>
<div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:85px; overflow:auto"><pre><font size="2">if (defined('VBA_PORTAL'))
{
	require_once('./includes/vba_cmps_include_top.php');
}
</pre></div></fieldset>
<br />
<br />

<fieldset><legend><b>Find:</b></legend>
<div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:35px; overflow:auto">?></div>
</fieldset><br />

<fieldset><legend><b>Above that Add:</b></legend>
<div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:85px; overflow:auto"><pre><font size="2">if (defined('VBA_PORTAL'))
{
	require_once('./includes/vba_cmps_include_bottom.php');
}
</pre></div></fieldset>
<br />
</td></tr>


<tr><td class="alt2"><b>In your /forum/admincp/index.php file:</b><br /><br /><fieldset><legend><b>Find:</b></legend>
	<div class="alt1" style="margin:0px; padding:6px; border:1px inset; width:640px; height:70px; overflow:auto"><pre>
	$printhr = false;
	if (can_administer('canadmincalendars'))
	</pre></div>
</fieldset><br />

<fieldset><legend><b>Above that Add:</b></legend>
<div class="alt1" style="margin:0px; padding:6px; border:1px inset; width:640px; height:170px; overflow:auto"><pre>	construct_nav_option($vbphrase['default_settings'], 'vba_cmps_admin.php?do=modifysettings');
	construct_nav_option($vbphrase['edit_modules'], 'vba_cmps_admin.php?do=listmodules');
	construct_nav_option($vbphrase['add_module'], 'vba_cmps_admin.php?do=addmodule');
	construct_nav_option($vbphrase['edit_pages'], 'vba_cmps_admin.php?do=listpages');
	construct_nav_option($vbphrase['add_page'], 'vba_cmps_admin.php?do=addpage');
	construct_nav_group($vbphrase['vba_cmps']);

	construct_nav_spacer();
</pre></div>

</fieldset></td></tr>


<tr><td class="alt1"><b>In your /forum/includes/adminfunctions_template.php file:</b><br /><br /><fieldset><legend><b>Find:</b></legend><div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:35px; overflow:auto"><pre>'forumhome' => $vbphrase['group_forum_home'],</pre></div></fieldset><br />

<fieldset><legend><b>Below that Add:</b></legend><div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:35px; overflow:auto"><pre>'adv_portal' => 'vBadvanced CMPS',</pre></div>

</fieldset></td></tr>


<tr><td class="alt2"><b>In your /forum/includes/functions_calendar.php file:</b><br />
<br />
<fieldset><legend><b>Find:</b></legend>
<div class="alt1" style="margin:0px; padding:6px; border:1px inset; width:640px; height:85px; overflow:auto"><pre>function construct_calendar_output($today, $usertoday, $calendarinfo, $fullcalendar = 0, $weekrange = '')
{
	global $birthdaycache, $eventcache, $bbuserinfo, $vbphrase, $stylevar, $show, $offset, $colspan, $days, $months, $show;
</pre></div>
</fieldset>
<br /><fieldset><legend><b>Replace it with:</b></legend><div class="alt1" style="margin:0px; padding:6px; border:1px inset; width:640px; height:85px; overflow:auto"><pre>function construct_calendar_output($today, $usertoday, $calendarinfo, $fullcalendar = 0, $weekrange = '')
{
	global $birthdaycache, $eventcache, $bbuserinfo, $vbphrase, $stylevar, $show, $offset, $colspan, $days, $months, $vba_options, $vboptions;</pre></div>
</fieldset></td></tr>

<a name="functions">


<tr><td class="alt1"><b>In your /forum/includes/functions.php:</b><br /><br />
<fieldset><legend><b>Find:</b></legend><div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:55px; overflow:auto"><pre>	if (THIS_SCRIPT == 'online' OR THIS_SCRIPT == 'calendar' OR (THIS_SCRIPT == 'index' AND $vboptions['showevents']))</pre></div></fieldset>
<br />
<fieldset><legend><b>Replace it with:</b></legend><div class="alt2" style="margin:0px; padding:6px; border:1px inset; width:640px; height:55px; overflow:auto"><pre>	if (THIS_SCRIPT == 'online' OR THIS_SCRIPT == 'calendar' OR (THIS_SCRIPT == 'adv_index') OR (THIS_SCRIPT == 'index' AND $vboptions['showevents']))</pre></div></fieldset></td></tr>

<tr><td class="alt2"><b>In your cmps_index.php file:</b><br /><br />
Now open your cmps_index.php file in this folder and find: <br />  chdir('./forum');

<br /><br />Replace this with the full path to your forum on your server.<br />

<span class="smallfont"><a href="#faq">Not sure what this means?</a><br /><br />
Note: If you are installing this script in the same directory as your forums then you may simply comment out this line.
</td></tr>
  

<tr><td class="thead"><b>Step 4 - Upload Files</b></td></tr>

<tr><td class="alt1">Upload the new <font color="#000088">vBadvanced CMPS files</font> and your modified <font color="#008800">vBulletin files</font> to the directories listed below. <p>

<div style="margin-top:8px">root folder - <font color="#000088">cmps_index.php</font> (you will probably rename this file to index.php once everything is set up)</div>

<div style="margin-top:8px">root/forums - <font color="#008800">global.php</font></div>

<div style="margin-top:8px">root/forums/admincp - <font color="#008800">index.php</font>, <font color="#000088">vbacmps_install.php, vba_cmps_admin.php</font></div>

<div style="margin-top:8px">root/forums/includes - <font color="#008800">functions_calendar.php, functions.php, adminfunctions_template.php, </font><font color="#000088">vba_cmps_include_top.php, vba_cmps_include_bottom.php</font></div>

<div style="margin-top:8px">root/forums/images/misc - <font color="#000088">noavatar.gif</font></div>
</font>

<div style="margin-top:8px">root/forums/modules - <font color="#000088">Upload this folder and all of it's contents</font></div>

</td></tr>

<tr><td class="thead"><b>Step 5 - Run the Install Script</b></td></tr>

<tr><td class="alt2">Now you're almost done! It's time to add the vBadvanced CMPS settings and templates. Run the install script from your browser by going to http://yoursite.com/forum/admincp/vbacmps_install.php. <P>This script will make all necessary changes to your database and install the templates, phrases, settings, and etc for you. Once the script is done go to your Admin CP and you will see a new group of options called "vBadvanced CMPS". That is where you will modify the settings, add/edit modules, and add/edit new pages.<br />
<br />
For more information on how to use your new script, please see the <a href="http://www.vbadvanced.com/membersarea.php?do=viewmanual&productid=4">User's Manual</a> available at <a href="http://www.vbadvanced.com/">vbadvanced.com</a>.
</td></tr></table><p><br />



<a name="faq">
<table class="tborder" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="tcat"><b>Frequently Asked Questions</b></td></tr>

<tr><td class="alt1">
<table width="100%">
<tr>
<td valign="top"><b>Q.</b></td><td>I'm not sure how to find the path to my forums.<br />
<div style="margin-top:6px; margin-bottom:6px"><i>Or</i></div>I get an error like this when I first try to install the script:<br />
<i>Warning: chdir() [function.chdir]: No such file or directory (errno 2) in /home/yoursite/html/cmps_index.php on line 8</i> <br /><br /></td>
</tr>
<tr>
<td valign="top"><b>A.</b></td><td>The path to your forums directory is set wrong. Create a file called info.php with the following content:<br /><br />
&lt;? phpinfo(); ?&gt;<br /><br />
Then upload that file to your server and go to it in your browser. You will see a list of options that were set by your host. One of them is called:<br /><br />
_SERVER["PATH_TRANSLATED"]<br /><br />
Copy that path, paste it over what you currently have for your path in the cmps_index.php file, and add the name of your forums directory after it. Reupload your cmps_index.php file.</td></tr></table>


</font></td></tr>


<tr><td class="alt2"><table width="100%">
<tr>
<td valign="top"><b>Q.</b></td><td>Now that I've installed this script I can't log out!<br /><br /></td>
</tr>
<tr>
<td valign="top"><b>A.</b></td>
<td>Try clearing your cookies. If you're still having problems afterwards, edit your Cookie Domain (Under Cookies and HTTP Header Options in your vBulletin options section) and change that to ".yoursite.com" (note the two dots!).</td></tr></table></font></td></tr>

<tr><td class="alt1"><table width="100%">
<tr>
<td valign="top"><b>Q.</b></td><td>I've just upgraded my vBulletin and now my page appears to be broken!<br /><br /></td>
</tr>
<tr>
<td valign="top"><b>A.</b></td>
<td>Upload the vbacmps_install.php file to your admincp directory and go to it in your browser. Once there, select the option to install only the templates.</td></tr></table></font></td></tr>


</table><p><br />



<a name="help">
<table class="tborder" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="tcat"><b>Help & Support</b></td></tr>
<tr><td class="alt1"><b>Before asking for support Please read the F.A.Q above!</b> If you have any problems or questions that are not covered in the F.A.Q. please post them at <a href="http://vbadvanced.com" target="_blank">vbadvanced.com</a> or vbulletin.org in the vBadvanced CMPS thread. I will be more than happy to help in any way I can if the request for help is made there. Anyone trying to contact me via email, private message, or any other means <b>will be ignored</b>.
</font></td></tr>

</table><p><br />


<a name="upgrade">
<table class="tborder" cellpadding="6" cellspacing="1" border="0" width="100%" align="center">
<tr>
<td class="tcat"><b>Upgrading</b></td></tr>
<tr><td class="alt1">To upgrade from vBadvanced CMPS vRC1 or vRC2 simply upload the new files over your existing ones (with the exception of your cmps_index.php file). Then go to http://yoursite.com/forum/admincp/vbacmps_install.php in your browser and select the option to upgrade. <br />
<br />
If you are upgrading to the CMPS from vBadvanced Homepage, simply follow the install instructions. During the install you will be given the option to import your vBadvanced Homepage settings. Once the CMPS is installed and you are ready to switch to the CMPS you may uninstall the homepage by using the install file that came with that script.</td></tr>

</table><p><br />



</td></tr></table><p><br />

</body>
</html>