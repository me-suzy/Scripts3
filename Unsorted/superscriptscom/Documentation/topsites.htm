<html>

<head>
<title>Documentation Topsites</title>

<meta name="Microsoft Border" content="t, default"></head>

<body><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>

<table border="0" width="33%" cellpadding="0">
  <tr>
    <td width="50%"><font color="#000000" face="Arial"><a href="http://www.superscripts.com/" ONCLICK="parent.f=0"><img src="../pix/banners/miniprizm.gif" alt="cgi scripts" border="0" WIDTH="305" HEIGHT="59"></a></font></td>
    <td width="50%" bgcolor="#FFFFFF"><font color="#000000" face="Arial"><a href="http://www.superscripts.com/ads/rotate.cgi?url=&amp;user=" target="new" ONCLICK="parent.f=0"><img src="http://www.superscripts.com/ads/rotate.cgi?banner=&amp;user=" border="0" width="468" height="60"></a></font></td>
  </tr>
</table>

<table border="0" width="79%" cellpadding="0">
  <tr>
    <td width="16%"><p align="center"><a href="../dsstoday/index.html"><font color="#000000" face="Arial"><img src="../pix/main/news.jpg" alt="CGI NEWS" align="left" WIDTH="105" HEIGHT="65"></font></a></td>
    <td width="16%"><p align="center"><a href="../scripts/index.shtml"><font color="#000000" face="Arial"><img src="../pix/main/scripts.jpg" alt="CGI Scripts" WIDTH="105" HEIGHT="65"></font></a></td>
    <td width="17%"><p align="center"><a href="../mastergate/index.html"><font color="#000000" face="Arial"><img src="../pix/main/access.jpg" alt="Access The CGI Archive" WIDTH="105" HEIGHT="65"></font></a></td>
    <td width="17%"><p align="center"><a href="../contact.html"><font color="#000000" face="Arial"><img src="../pix/main/contact.jpg" alt="Contact Superscripts" WIDTH="104" HEIGHT="68"></font></a></td>
    <td width="17%"><p align="center"><a href="../support.html"><font color="#000000" face="Arial"><img src="../pix/main/dox.jpg" alt="CGI Documentation" WIDTH="105" HEIGHT="65"></font></a></td>
    <td width="17%"><p align="center"><a href="../download/index.shtml"><font color="#000000" face="Arial"><img src="../pix/main/download.jpg" alt="Download CGI Scripts Here" align="right" WIDTH="105" HEIGHT="65"></font></a></td>
  </tr>
  <tr>
    <td width="16%" bgcolor="#000000"><p align="center"><font face="Arial" color="#FFFFFF"><a ONCLICK="parent.f=0" href="/dsstoday/index.html" style="color: rgb(255,255,255)"><strong>News</strong></a></font></td>
    <td width="16%" bgcolor="#000000"><p align="center"><a href="/scripts/" style="color: rgb(255,255,255)"><font face="Arial" color="#FFFFFF"><strong>CGI Scripts</strong></font></a></td>
    <td width="17%" bgcolor="#000000"><p align="center"><a style="color: rgb(255,255,255)" href="../mastergate/index.html"><font face="Arial" color="#FFFFFF"><strong>Become A Member</strong></font></a></td>
    <td width="17%" bgcolor="#000000"><p align="center"><font face="Arial" color="#FFFFFF"><a ONCLICK="parent.f=0" style="color: rgb(255,255,255)" href="../contact.html"><strong>Contact
    Us</strong></a></font></td>
    <td width="17%" bgcolor="#000000"><p align="center"><font face="Arial" color="#FFFFFF"><a ONCLICK="parent.f=0" style="color: rgb(255,255,255)" href="../support.html"><strong>Support</strong></a></font></td>
    <td width="17%" bgcolor="#000000"><p align="center"><font face="Arial" color="#FFFFFF"><a ONCLICK="parent.f=0" href="/download/index.shtml" style="color: rgb(255,255,255)"><strong>Download
    Area</strong></a></font></td>
  </tr>
</table>

<p>&nbsp;</p>
</td></tr><!--msnavigation--></table><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><!--msnavigation--><td valign="top">

<table border="0" width="75%" cellpadding="0">
  <tr>
    <td width="100%"><blockquote>
      <p><big><big><strong><font face="Arial" color="#FF0000">Documentation<br>
      </font></strong><font face="Arial" color="#000000">TOPSITES:&nbsp; V1.1</font></big></big></p>
      <blockquote>
        <p><font face="Arial" color="#000000"><small>Copyright 2001 Psybercore, Inc. - All Rights
        Reserved. </small></font></p>
      </blockquote>
      <blockquote>
        <p><small><font face="Arial" color="#000000">Selling redistributing or modifying any or
        all of the code for this program without prior written consent is expressly forbidden. You
        must obtain written permission before redistributing this software over the Internet or in
        any other medium. In all cases copyright and header information must remain intact.</font></small></p>
      </blockquote>
      <hr align="left">
      <h1><small><font face="Arial" color="#000000"><small>System Requirements</small></font></small></h1>
      <ul>
        <li><small><font face="Arial" color="#000000">Customizable to work with all operating
          systems - designed for unix</font></small></li>
        <li><font face="Arial" color="#000000"><small>Customizable to work with all web servers -
          designed for apache/enterprise</small></font></li>
        <li><font face="Arial" color="#000000"><small>If you are using NT you should have <a href="http://www.dafweb.com/daf30">DAF</a> installed</small></font></li>
        <li><font face="Arial" color="#000000"><small>Perl 5</small></font></li>
        <li><font face="Arial" color="#000000"><small>Crontab access</small></font></li>
        <li><font face="Arial" color="#000000"><small>Sendmail</small></font></li>
      </ul>
      <h2><font face="Arial" color="#000000"><small>Preliminaries</small></font></h2>
      <ul>
        <li><font face="Arial" color="#000000"><small>Determine the path to PERL 5 on your web
          server host.&nbsp; Note that some web hosting companies run both PERL 4 and PERL 5.&nbsp;
          Make ABSOLUTELY sure you are not setting this up under PERL 4.&nbsp; Ask your
          administrator if you are not sure. </small></font></li>
      </ul>
      <ul>
        <li><font face="Arial" color="#000000"><small>If you need to review or learn the basics of
          CGI and Perl check out the <a href="../tutorial/index.html">superscripts tutorial
          archives.</a></small></font></li>
      </ul>
      <ul>
        <li><font face="Arial" color="#000000"><small><a href="http://www.superscripts.com/download/">Download</a> the tarfile for this program and
          save it to your desktop.</small></font></li>
      </ul>
      <ul>
        <li><font face="Arial" color="#000000"><small>Unpack the tar archive on your desktop using a
          program that unpacks UNIX TAR ARCHIVES. If you don't have such a program then download
          WINZIP FREE from <a HREF="http://www.shareware.com/">SHAREWARE.COM</a>.&nbsp; </small></font></li>
      </ul>
      <ul>
        <li><font face="Arial" color="#000000"><small>After you have unpacked the TAR archive you
          will have a collection of folders and files on your desktop.&nbsp; Now you have to do some
          basic editing of each of these files (or at least some of them).&nbsp; Use a text editor
          such as wordpad, notepad, BBEdit, simpletext, or teachtext to edit the files.&nbsp; These
          are NOT WORD PROCESSOR DOCUMENTS they are just simple TEXT files so don't save them as
          word processor documents or save them with extentions such as .txt or they will NOT WORK.
          &nbsp; Note that there may be a some files inside of folders which are &quot;blank&quot;.
          &nbsp; This is normal.</small></font></li>
      </ul>
      <h2><font face="Arial" color="#000000"><small>Preparing the CGI scripts</small></font></h2>
      <blockquote>
        <h2><small><font face="Arial" color="#FF0000"><small>Define Path To PERL 5</small></font></small></h2>
      </blockquote>
      <blockquote>
        <p><font face="Arial" color="#000000"><small>The first step is to open up each and every
        file that has a .cgi extention and edit line number one of each script.&nbsp; Each of the
        cgi scripts is written in perl 5. For your scripts to run they must know where perl 5 is
        installed on your web server. The path to perl 5 is defined to a cgi script in the first
        line of the file. In each of the cgi scripts the first line of code looks something like
        this: </small></font></p>
        <blockquote>
          <p><font face="Arial" color="#FF0000"><small>#!/usr/bin/perl</small></font></p>
        </blockquote>
        <p><font face="Arial" color="#000000"><small>If the path to perl 5 on your web server is
        different from /usr/bin/perl you must edit the first line of each cgi script to reflect
        the correct path. If the path to perl 5 is the same no changes are necessary. If you do
        not know the path to perl 5 ask the webmaster or system administrator at your server site.
        &nbsp; </small></font></p>
      </blockquote>
      <p><font face="Arial" color="#000000"><big><strong>Configure the .cgi files</strong></big></font></p>
      <blockquote>
        <p><font face="Arial" color="#FF0000"><big>configure.cgi</big></font></p>
        <p><font face="Arial" color="#000000"><small>This is the entire cgi.&nbsp; There are
        several variables to edit, all of which should be pretty straightforward.</small></font><font SIZE="2"><ul>
          <li><font face="Arial">$localurl = yourdomain name</font></li>
          <li><font face="Arial" SIZE="2">$mailprogram= </font><font face="Arial">path to sendmail</font></li>
          <li><font face="Arial" SIZE="2">$adminemail = Your email address (include backslash)</font></li>
          <li><font face="Arial" SIZE="2">$sitecode = n</font><font face="Arial">ame of your topsite
            program (no spaces - must match to name of agents program if you are using agents of
            fortune)</font></li>
          <li><font face="Arial" SIZE="2">$sitedepth = n</font><font face="Arial">umber of links in
            the topsites list</font></li>
          <li><font face="Arial" SIZE="2">$threshold = n</font><font face="Arial">umber of hits
            required to display admin statistics</font></li>
          <li><font face="Arial" SIZE="2">$cgidirectory = </font><font face="Arial">FULL path to your
            cgi-bin/topsites directory</font></li>
          <li><font face="Arial" SIZE="2">$tophtml = FULL path to top.html </font></li>
          <li><font face="Arial" SIZE="2">$bottomhtml = FULL path to </font><font face="Arial">bottom.html</font></li>
          <li><font face="Arial" SIZE="2">$topsitehtml = FULL path to top</font><font face="Arial">site.html</font></li>
          <li><font face="Arial" SIZE="2">$clickthroughurl </font><font face="Arial">= URL to
            clickme.html</font></li>
          <li><font face="Arial" SIZE="2">$topsiteurl = U</font><font face="Arial">RL to the
            topsite.html results</font></li>
          <li><font face="Arial" SIZE="2">$exiturl = </font><font face="Arial">URL of exit.cgi</font></li>
          <li><font face="Arial" SIZE="2">$cgiurl = </font><font face="Arial">URL to the
            cgi-bin/topsites directory (no trailing slash)</font></li>
          <li><font face="Arial" SIZE="2">$webmasterurl = U</font><font face="Arial">RL of the
            webmaster login area</font></li>
        </ul>
        </font>
      </blockquote>
      <blockquote>
        <p><font color="#FF0000" face="Arial"><big>topsites.cgi</big></font></p>
        <p><font color="#000000" face="Arial"><small>the lines</small></font><font SIZE="2"></p>
        </font><blockquote>
          <p><small><font color="#FF0000" face="Arial">require
          &quot;/home/superscripts/topsites/cgibin/configure.cgi&quot;;<br>
          &amp;configure;</font></small></p>
        </blockquote>
        <p><small><font face="Arial">must be edited to reflect the ABSOLUTE path to configure.cgi
        on your system</font></small></p>
      </blockquote>
      <p><font color="#000000" face="Arial"><big>Upload Your Edited CGI and Data Files</big></font><ul>
        <li><font color="#000000" face="Arial"><small>Upload all of the cgi files (.cgi) into your
          cgi-bin/topsites directory</small></font></li>
        <li><font color="#000000" face="Arial"><small>Upload top.html, bottom.html, and
          thankyou.html into your cgi-bin/topsites/data directory</small></font></li>
      </ul>
      <p><font color="#000000" face="Arial"><big>File Access Permissions</big></font></p>
      <blockquote>
        <p><font color="#000000" face="Arial"><small>File access permissions must be set correctly
        for this program to run.&nbsp; You must set the access permissions for each of these
        files.&nbsp; Set all the .cgi and .pl files to 755. &nbsp; Set the data directory contents
        to 777 and the logs directory to 777.&nbsp; Set topsites.html to 777</small></font></p>
      </blockquote>
      <p><font color="#000000" face="Arial"><big>Using Crontab to Generate Site List</big></font></p>
      <blockquote>
        <p><font color="#000000" face="Arial"><small>Set crontab to execute topsites.cgi once per
        day.&nbsp; Note that crontab executables must always use FULL PATHS whenever they are
        implemented in the cgi.&nbsp; This is why all the path variables in configure.cgi use FULL
        PATHS and NOT RELATIVE PATHS.&nbsp; Also the &amp;require statements must use FULL paths
        inside the topsites.cgi file which is called from crontab.&nbsp; topsites.cgi will create
        the file topsites.html which is the list of your top referers.&nbsp; </small></font></p>
        <p><font color="#000000" face="Arial"><small>You can also generate the list manually from
        the command line (telnet) with </small></font></p>
        <p><font color="#FF0000" face="Arial"><small>perl topsites.cgi</small></font></p>
      </blockquote>
      <p><font color="#000000" face="Arial"><big>Viewing Topsites with SSI</big></font></p>
      <blockquote>
        <p><font color="#000000" face="Arial"><small>You can use this list specifically or insert
        the data from this page into your home page using server sides includes.&nbsp; If you want
        to insert the topsite data via SSI use the following command:</small></font></p>
        <p><small><font color="#FF0000" face="Arial">&lt;!--#EXEC
        CGI=&quot;/cgi-bin/topsites/insert.pl&quot; --&gt;</font></small></p>
        <p><font color="#000000" face="Arial"><small>note that some systems may not accept the .pl
        extension for SSI so you may have to change it to .cgi.&nbsp; Also you may have to name
        the page using the SSI command with a .shtml suffix instead of .htm or .html for the SSI
        command to work.&nbsp; If you are inserting the results on another page then set the
        $topsiteurl inside of configure.cgi to the page you have inserted the results into and NOT
        the url to the topsites.html page itself.</small></font></p>
      </blockquote>
      <p><font color="#000000" face="Arial"><big>Adding headers/footers to the Topsites Results</big></font></p>
      <blockquote>
        <p><font face="Arial"><small>If you are going to simply use the actual topsites.html page
        generated by crontab for the page to display rather than using SSI to insert the data you
        can add html headers and footers to the page by editing the /cgi-bin/data/top.html
        (header) and /cgi-bin/data/bottom.htlm (footer).&nbsp; Just cut and past whatever you want
        into these files.&nbsp; The header goes before the list and the footer appears after the
        list.</small></font></p>
      </blockquote>
      <p><font color="#000000" face="Arial"><big>Notes on Interfacing to Agents of Fortune</big></font></p>
      <blockquote>
        <p><font color="#000000" face="Arial"><small>Make sure if you plan to integrate this with
        AGENTS OF FORTUNE that you have set the name of your topsites program to the same name as
        your affiliates program inside of configure.cgi.&nbsp; Also make sure you set and read
        from the same IP/port as this uses cookies to track.</small></font></p>
      </blockquote>
    </blockquote>
    </td>
  </tr>
</table>

<blockquote>
  <p>&nbsp;</p>
</blockquote>
&nbsp;<!--msnavigation--></td></tr><!--msnavigation--></table></body>
</html>
